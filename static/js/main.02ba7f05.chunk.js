(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{64:function(e,a,n){e.exports=n(92)},69:function(e,a,n){},74:function(e,a,n){},85:function(e,a,n){},87:function(e,a,n){},88:function(e,a,n){},89:function(e,a,n){},90:function(e,a,n){},91:function(e,a,n){},92:function(e,a,n){"use strict";n.r(a);var t=n(0),c=n.n(t),l=n(17),r=n.n(l),s=(n(69),n(10)),i=n(20),o=(n(74),n(22)),m=Object(o.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,a){e.channelId=a.payload.channelId,e.channelName=a.payload.channelName}}}),u=m.actions.setChannelInfo,d=function(e){return e.app.channelId},h=function(e){return e.app.channelName},E=m.reducer;var p=function(e){var a=e.id,n=e.channelName,t=Object(s.b)();return c.a.createElement("div",{className:"sidebarChannel",onClick:function(){return t(u({channelId:a,channelName:n}))}},c.a.createElement("h4",null,c.a.createElement("span",{className:"sidebarChannel__hash"},"#"),n))},f=n(35),v=n.n(f),_=n(46),b=n.n(_),N=n(47),g=n.n(N),O=n(48),j=n.n(O),I=n(45),S=n.n(I),w=n(49),k=n.n(w),C=n(50),y=n.n(C),A=n(51),H=n.n(A),B=n(106),D=Object(o.b)({name:"user",initialState:{user:null},reducers:{login:function(e,a){e.user=a.payload},logout:function(e){e.user=null}}}),W=D.actions,z=W.login,F=W.logout,G=function(e){return e.user.user},L=D.reducer,R=n(24),U=n.n(R),x=U.a.initializeApp({apiKey:"AIzaSyCWQK95Rxg99Xvm2_p7kLk5OAyXZAnFUGk",authDomain:"https://www.niteshseram.me/discord-clone",databaseURL:"https://discord-clone-c51ae.firebaseio.com",projectId:"discord-clone-c51ae",storageBucket:"discord-clone-c51ae.appspot.com",messagingSenderId:"615907649203",appId:"1:615907649203:web:7e06fe98f14dc508ca72c6",measurementId:"G-GKSWXEZZF8"}).firestore(),K=U.a.auth(),M=new U.a.auth.GoogleAuthProvider,T=x;n(85);var V=function(){var e=Object(s.c)(G),a=Object(t.useState)([]),n=Object(i.a)(a,2),l=n[0],r=n[1];return Object(t.useEffect)((function(){T.collection("channels").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar__top"},c.a.createElement("h3",null,"Nitesh Seram"),c.a.createElement(v.a,null)),c.a.createElement("div",{className:"sidebar__channels"},c.a.createElement("div",{className:"sidebar__channelsHeader"},c.a.createElement("div",{className:"sidebar__header"},c.a.createElement(v.a,null),c.a.createElement("h4",null,"Text Channels")),c.a.createElement(S.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&T.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})),c.a.createElement("div",{className:"sidebar__channelsList"},l.map((function(e){var a=e.id,n=e.channel;return c.a.createElement(p,{key:a,id:a,channelName:n.channelName})})))),c.a.createElement("div",{className:"sidebar__voice"},c.a.createElement(b.a,{className:"sidebar__voiceIcon",fontSize:"large"}),c.a.createElement("div",{className:"sidebar__voiceInfo"},c.a.createElement("h3",null,"Voice Connected"),c.a.createElement("p",null,"Stream")),c.a.createElement("div",{className:"sidebar__voiceIcons"},c.a.createElement(g.a,null),c.a.createElement(j.a,null))),c.a.createElement("div",{className:"sidebar__profile"},c.a.createElement(B.a,{onClick:function(){return K.signOut()},src:e.photo}),c.a.createElement("div",{className:"sidebar__profileInfo"},c.a.createElement("h3",null,e.displayName),c.a.createElement("p",null,"#",e.uid.substring(0,5))),c.a.createElement("div",{className:"sidebar__profileIcons"},c.a.createElement(k.a,null),c.a.createElement(y.a,null),c.a.createElement(H.a,null))))},X=n(52),Z=n.n(X),J=n(53),P=n.n(J),Q=n(54),$=n.n(Q),q=n(55),Y=n.n(q),ee=n(56),ae=n.n(ee),ne=n(57),te=n.n(ne);n(87);var ce=function(e){var a=e.channelName;return c.a.createElement("div",{className:"chatHeader"},c.a.createElement("div",{className:"chatHeader__left"},c.a.createElement("h3",null,c.a.createElement("span",{className:"chatHeader__hash"},"#"),a)),c.a.createElement("div",{className:"chatHeader__right"},c.a.createElement(Z.a,null),c.a.createElement(P.a,null),c.a.createElement($.a,null),c.a.createElement("div",{className:"chatHeader__search"},c.a.createElement("input",{placeholder:"Search"}),c.a.createElement(Y.a,null)),c.a.createElement(ae.a,null),c.a.createElement(te.a,null)))},le=n(58),re=n.n(le),se=n(59),ie=n.n(se),oe=n(60),me=n.n(oe),ue=n(61),de=n.n(ue);n(88);var he=function(e){var a=e.timestamp,n=e.message,t=e.user;return c.a.createElement("div",{className:"message"},c.a.createElement(B.a,{src:t.photo}),c.a.createElement("div",{className:"message__info"},c.a.createElement("h4",null,t.displayName,c.a.createElement("span",{className:"message__timestamp"},new Date(null===a||void 0===a?void 0:a.toDate()).toUTCString())),c.a.createElement("p",null,n)))};n(89);var Ee=function(){var e=Object(s.c)(G),a=Object(s.c)(d),n=Object(s.c)(h),l=Object(t.useState)(""),r=Object(i.a)(l,2),o=r[0],m=r[1],u=Object(t.useState)([]),E=Object(i.a)(u,2),p=E[0],f=E[1],v=Object(t.useRef)(),_=function(){v.current.scrollIntoView({behavior:"smooth"})};return Object(t.useEffect)((function(){_()}),[p]),Object(t.useEffect)((function(){a&&T.collection("channels").doc(a).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){f(e.docs.map((function(e){return e.data()})))})),_()}),[a]),c.a.createElement("div",{className:"chat"},c.a.createElement(ce,{channelName:n}),c.a.createElement("div",{className:"chat__messages"},p.map((function(e){return c.a.createElement(he,{timestamp:e.timestamp,message:e.message,user:e.user})})),c.a.createElement("div",{ref:v})),c.a.createElement("div",{className:"chat__input"},c.a.createElement(re.a,{fontSize:"large"}),c.a.createElement("form",null,c.a.createElement("input",{value:o,disabled:!a,onChange:function(e){return m(e.target.value)},placeholder:"Message ".concat(n)}),c.a.createElement("button",{onClick:function(n){n.preventDefault(),T.collection("channels").doc(a).collection("messages").add({message:o,user:e,timestamp:U.a.firestore.FieldValue.serverTimestamp()}),m(""),_()},className:"chat__inputButton",type:"submit"},"Send Message")),c.a.createElement("div",{className:"chat__inputIcons"},c.a.createElement(ie.a,null),c.a.createElement(me.a,null),c.a.createElement(de.a,null))))},pe=n(105);n(90);var fe=function(){return c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login__logo"},c.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/sco/9/98/Discord_logo.svg",alt:"logo"})),c.a.createElement(pe.a,{onClick:function(e){K.signInWithPopup(M).catch((function(e){return alert(e.message)}))}},"Sign In"))};n(91);var ve=function(){var e=Object(s.b)(),a=Object(s.c)(G);return Object(t.useEffect)((function(){K.onAuthStateChanged((function(a){e(a?z({uid:a.uid,photo:a.photoURL,email:a.email,displayName:a.displayName}):F())}))}),[e]),c.a.createElement("div",{className:"app"},a?c.a.createElement(c.a.Fragment,null,c.a.createElement(V,null),c.a.createElement(Ee,null)):c.a.createElement(fe,null))},_e=Object(o.a)({reducer:{user:L,app:E}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,{store:_e},c.a.createElement(ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[64,1,2]]]);
//# sourceMappingURL=main.02ba7f05.chunk.js.map